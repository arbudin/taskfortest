# Battery & Device Management System

–°–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –∏ –±–∞—Ç–∞—Ä–µ—è–º–∏ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –∏ REST API.

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**: Python, FastAPI, SQLAlchemy, Alembic
- **Database**: PostgreSQL
- **Frontend**: HTML, JavaScript
- **Containerization**: Docker
- **Migrations**: Alembic

## üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (Devices)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤  
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –±–∞—Ç–∞—Ä–µ–π)

### –ë–∞—Ç–∞—Ä–µ–∏ (Batteries)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –±–∞—Ç–∞—Ä–µ–π
- ‚úÖ –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –±–∞—Ç–∞—Ä–µ–π
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –º–∞–∫—Å. 5 –±–∞—Ç–∞—Ä–µ–π –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- ‚úÖ –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–µ –±–∞—Ç–∞—Ä–µ–∏ (–±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É)

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã
- **devices** - —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (id, name, version, status, created_at)
- **batteries** - –±–∞—Ç–∞—Ä–µ–∏ (id, name, voltage, capacity, lifetime, device_id)

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- üîí –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –±–∞—Ç–∞—Ä–µ–π
- üîí –ú–∞–∫—Å. 5 –±–∞—Ç–∞—Ä–µ–π –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (—Ç—Ä–∏–≥–≥–µ—Ä)
- üîí –í–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ —Å –∫–∞—Å–∫–∞–¥–Ω—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
```bash
git clone https://github.com/arbudin/taskfortest.git
cd taskfortest
```
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate     # Windows
```

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```sql
-- –°–æ–∑–¥–∞—Ç—å –ë–î –≤ PostgreSQL
CREATE DATABASE battery_db;
```
–ú–∏–≥—Ä–∞—Ü–∏–∏

```bash
alembic upgrade head
```
–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
uvicorn main:app --reload
```
Docker –∑–∞–ø—É—Å–∫
```bash
docker-compose up --build
```

## üìö API Endpoints

## –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

* GET /devices - —Å–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤

* POST /devices - —Å–æ–∑–¥–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

* PUT /devices/{id} - –æ–±–Ω–æ–≤–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

* DELETE /devices/{id} - —É–¥–∞–ª–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ


## –ë–∞—Ç–∞—Ä–µ–∏

* GET /batteries - —Å–ø–∏—Å–æ–∫ –±–∞—Ç–∞—Ä–µ–π

* POST /batteries - —Å–æ–∑–¥–∞—Ç—å –±–∞—Ç–∞—Ä–µ—é

* PUT /batteries/{id} - –æ–±–Ω–æ–≤–∏—Ç—å –±–∞—Ç–∞—Ä–µ—é

* DELETE /batteries/{id} - —É–¥–∞–ª–∏—Ç—å –±–∞—Ç–∞—Ä–µ—é


## üîß –ú–∏–≥—Ä–∞—Ü–∏–∏
```bash
# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é
alembic revision --autogenerate -m "description"
```
```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head
```
```bash
# –û—Ç–∫–∞—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
alembic downgrade -1
```
## 
* –ß–∞—Å—Ç–∏—á–Ω–æ –ø—Ä–æ–µ–∫—Ç –±—ã–ª —Å–¥–µ–ª–∞–Ω —Å –ø–æ–º–æ—â—å—é –ò–ò. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –µ–≥–æ –∫–∞–∫ "–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞". –§—Ä–æ–Ω—Ç–µ–Ω–¥ –±—ã–ª —Å–¥–µ–ª–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å –ø–æ–º–æ—â—å—é –ò–ò. –Ø –ª–∏—à—å –Ω–∞—Å—Ç—Ä–æ–∏–ª, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª–æ –≤—Å–µ –∫–∞–∫ –Ω–∞–¥–æ. –ë—ç–∫ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–¥–µ–ª–∞–Ω –º–Ω–æ–π, —É –ò–ò —É–∑–Ω–∞–≤–∞–ª –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –∫—É—Å–∫–∏ –∫–æ–¥–∞, –∏ —Å–≤–µ—Ä—è–ª—Å—è —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π.
